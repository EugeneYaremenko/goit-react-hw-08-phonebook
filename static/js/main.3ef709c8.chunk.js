(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{10:function(e,t,n){"use strict";var a=n(2),r=Object(a.b)("contacts/addRequest"),c=Object(a.b)("contacts/addSuccess"),o=Object(a.b)("contacts/addError"),u=Object(a.b)("contacts/fetchRequest"),s=Object(a.b)("contacts/fetchSuccess"),i=Object(a.b)("contacts/fetchError"),l=Object(a.b)("contacts/removeRequest"),b=Object(a.b)("contacts/removeSuccess"),d=Object(a.b)("contacts/removeError"),f=Object(a.b)("contacts/change");t.a={addContactRequest:r,addContactSuccess:c,addContactError:o,fetchContactsRequest:u,fetchContactsSuccess:s,fetchContactsError:i,removeContactsRequest:l,removeContactsSuccess:b,removeContactsError:d,changeFilter:f}},114:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n.n(c),u=n(21),s=n.n(u),i=n(9),l=n(54),b=(n(74),n(39)),d=n(40),f=n(42),g=n(41),h=n(18),m=n(6),p=n(55),j=n.n(p),O=n(12),v=n(25),E=n.n(v),C=Object(i.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return o.a.createElement("nav",{className:E.a.nav},o.a.createElement(h.b,{to:"/",style:E.a,activeStyle:E.a,exact:!0},"Home"),t&&o.a.createElement(h.b,{to:"/contacts",style:E.a,activeStyle:E.a,exact:!0},"Contacts"))})),y={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},S=function(){return o.a.createElement("div",null,o.a.createElement(h.b,{to:"/register",style:y.link,activeStyle:y.activeLink,exact:!0},"Register"),o.a.createElement(h.b,{to:"/login",style:y.link,activeStyle:y.activeLink,exact:!0},"Login"))},k=n(24),_=n(33),R=n.n(_),q=n(128),A=Object(i.b)((function(e){return{name:O.b.getUserName(e),avatar:"https://icon-library.net/images/avatar-icon-images/avatar-icon-images-7.jpg"}}),{onLogout:O.a.logOut})((function(e){var t=e.avatar,n=e.name,a=e.onLogout;return o.a.createElement("div",{className:R.a.container},o.a.createElement("img",{src:t,alt:"",width:"32",className:R.a.avatar}),o.a.createElement("span",{className:R.a.name},"Welcome, ",n||o.a.createElement(k.a,{width:20,height:20})),o.a.createElement(q.a,{onClick:a,type:"button",variant:"contained",color:"secondary"},"Logout"))})),U=n(61),x=n.n(U),w=Object(i.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return o.a.createElement("header",{className:x.a.header},o.a.createElement(C,null),t?o.a.createElement(A,null):o.a.createElement(S,null))})),N=function(e){var t=e.children;return o.a.createElement("div",{className:j.a.wrapper},o.a.createElement(w,null),t)},L=n(32),z=Object(i.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=Object(L.a)(e,["component","isAuthenticated"]);return o.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(t,e):o.a.createElement(m.a,{to:"/login"})}}))})),B=Object(i.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=e.restricted,r=Object(L.a)(e,["component","isAuthenticated","restricted"]);return o.a.createElement(m.b,Object.assign({},r,{render:function(e){return n&&a?o.a.createElement(m.a,{to:"/contacts"}):o.a.createElement(t,e)}}))})),F=[{path:"/",label:"Home",exact:!0,component:Object(c.lazy)((function(){return n.e(7).then(n.bind(null,139))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(c.lazy)((function(){return n.e(5).then(n.bind(null,140))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(c.lazy)((function(){return n.e(4).then(n.bind(null,141))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(c.lazy)((function(){return Promise.all([n.e(6),n.e(3)]).then(n.bind(null,142))})),private:!0,restricted:!1}],M=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement(N,null,o.a.createElement(c.Suspense,{fallback:o.a.createElement(k.a,null)},o.a.createElement(m.d,null,F.map((function(e){return e.private?o.a.createElement(z,Object.assign({key:e.label},e)):o.a.createElement(B,Object.assign({key:e.label},e,{restricted:e.restricted}))}))))))}}]),n}(c.Component),D=Object(i.b)(null,{onGetCurrentUser:O.a.getCurrentUser})(M),G=n(2),T=n(20),H=n(62),I=n.n(H),J=n(4),W=n(63),P=n(7),Y=n(10),K=Object(G.c)([],(a={},Object(J.a)(a,Y.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(J.a)(a,Y.a.addContactSuccess,(function(e,t){return[].concat(Object(W.a)(e),[t.payload])})),Object(J.a)(a,Y.a.removeContactsSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),Q=Object(G.c)("",Object(J.a)({},Y.a.changeFilter,(function(e,t){return t.payload}))),V=Object(G.c)(!1,(r={},Object(J.a)(r,Y.a.addContactRequest,(function(){return!0})),Object(J.a)(r,Y.a.addContactSuccess,(function(){return!1})),Object(J.a)(r,Y.a.addContactError,(function(){return!1})),Object(J.a)(r,Y.a.fetchContactsRequest,(function(){return!0})),Object(J.a)(r,Y.a.fetchContactsSuccess,(function(){return!1})),Object(J.a)(r,Y.a.fetchContactsError,(function(){return!1})),Object(J.a)(r,Y.a.removeContactsRequest,(function(){return!0})),Object(J.a)(r,Y.a.removeContactsSuccess,(function(){return!1})),Object(J.a)(r,Y.a.removeContactsError,(function(){return!1})),r)),X=Object(P.c)({items:K,filter:Q,loading:V}),Z=n(30),$={key:"auth",storage:I.a,whitelist:["token"]},ee=Object(G.a)({reducer:{contacts:X,auth:Object(T.g)($,Z.a)},middleware:Object(G.d)({serializableCheck:{ignoredActions:[T.a,T.f,T.b,T.c,T.d,T.e]}})}),te=Object(T.h)(ee);s.a.render(o.a.createElement(i.a,{store:ee},o.a.createElement(l.a,{loading:o.a.createElement(k.a,null),persistor:te},o.a.createElement(D,null))),document.getElementById("root"))},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(22),r=n.n(a),c=n(5);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(e){r.a.defaults.headers.common.Authorization="Bearer ".concat(e)},u=function(){r.a.defaults.headers.common.Authorization=""},s={register:function(e){return function(t){t(c.a.registerRequest()),r.a.post("/users/signup",e).then((function(e){o(e.data.token),t(c.a.registerSuccess(e.data))})).catch((function(e){return t(c.a.registerError(e.message))}))}},logIn:function(e){return function(t){t(c.a.loginRequest()),r.a.post("/users/login",e).then((function(e){o(e.data.token),t(c.a.loginSuccess(e.data))})).catch((function(e){return t(c.a.logoutError(e.message))}))}},logOut:function(){return function(e){e(c.a.logoutRequest()),r.a.post("/users/logout").then((function(){u(),e(c.a.logoutSuccess())})).catch((function(t){return e(c.a.logoutError(t))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(o(n),e(c.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(t){var n=t.data;return e(c.a.getCurrentUserSuccess(n))})).catch((function(e){return c.a.getCurrentUserError(e)})))}}},i={isAuthenticated:function(e){return e.auth.token},getUserName:function(e){return e.auth.user.name}};n(30)},24:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(56),o=n.n(c),u=n(57),s=n.n(u);t.a=function(e){var t=e.width,n=void 0===t?80:t,a=e.height,c=void 0===a?80:a;return r.a.createElement("div",{className:s.a.spinner},r.a.createElement(o.a,{type:"ThreeDots",color:"#3F51B5",width:n,height:c}))}},25:function(e,t,n){e.exports={nav:"Navigation_nav__YMTFi",link:"Navigation_link__1j2A3",activeLink:"Navigation_activeLink__16sxu"}},30:function(e,t,n){"use strict";var a,r,c,o=n(4),u=n(7),s=n(2),i=n(5),l={name:null,email:null},b=Object(s.c)(l,(a={},Object(o.a)(a,i.a.registerSucces,(function(e,t){return t.payload.user})),Object(o.a)(a,i.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(a,i.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(o.a)(a,i.a.logoutSuccess,(function(){return l})),a)),d=Object(s.c)(null,(r={},Object(o.a)(r,i.a.registerSucces,(function(e,t){return t.payload.token})),Object(o.a)(r,i.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(r,i.a.logoutSuccess,(function(){return null})),r)),f=Object(s.c)(null,(c={},Object(o.a)(c,i.a.registerError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.loginError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.logoutError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.getCurrentUserError,(function(e,t){return t.payload})),c));t.a=Object(u.c)({user:b,token:d,error:f})},33:function(e,t,n){e.exports={container:"UserMenu_container__1hrx2",avatar:"UserMenu_avatar__16m1T",name:"UserMenu_name__2GB39"}},5:function(e,t,n){"use strict";var a=n(2),r=Object(a.b)("auth/registerRequest"),c=Object(a.b)("auth/registerSuccess"),o=Object(a.b)("auth/registerError"),u=Object(a.b)("auth/loginRequest"),s=Object(a.b)("auth/loginSuccess"),i=Object(a.b)("auth/loginError"),l=Object(a.b)("auth/logoutRequest"),b=Object(a.b)("auth/logoutSuccess"),d=Object(a.b)("auth/logoutError"),f=Object(a.b)("auth/getCurrentUserRequest"),g=Object(a.b)("auth/getCurrentUserSuccess"),h=Object(a.b)("auth/getCurrentUserError");t.a={registerRequest:r,registerSuccess:c,registerError:o,loginRequest:u,loginSuccess:s,loginError:i,logoutRequest:l,logoutSuccess:b,logoutError:d,getCurrentUserRequest:f,getCurrentUserSuccess:g,getCurrentUserError:h}},55:function(e,t,n){e.exports={wrapper:"wrapper_wrapper__2trmd"}},57:function(e,t,n){e.exports={spinner:"Spinner_spinner__3er9s"}},61:function(e,t,n){e.exports={header:"appBar_header__s4Cv3"}},65:function(e,t,n){e.exports=n(114)},74:function(e,t,n){}},[[65,1,2]]]);
//# sourceMappingURL=main.3ef709c8.chunk.js.map